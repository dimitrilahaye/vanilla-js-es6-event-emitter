<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
	
</head>
<body>

<script type="text/javascript" src="../lib/EventEmitter.js"></script>
<script type="text/javascript" src="../lib/EventEmitter_singleton.js"></script>

<script type="text/javascript">
	Bus.on('event', this, (a, b) => {
		console.log(a, b);
	});
	Bus.emit('event', 1, 2);
</script>

<!--
<script type="text/javascript">

	// TODO : arguments into object args { id: 123, name: 'toto' }
	// eg => Bus.emit('myEvent', { id: 123, name: 'toto' });
	// eg => Bus.on('myEvent', this, (args) => { console.log(args.id); });

	// register the on_event
	Bus.on('on_event', this, () => {
		console.log('emitting on_event');
	});

	// call the on_event many times
	Bus.emit('on_event');
	console.log('............');
	Bus.emit('on_event');
	Bus.off('on_event', this);
	Bus.emit('on_event');

	/*
		>> will log:
		'emitting on_event'
		'............'
		'emitting on_event'
		>> third one has not been emitted because it has been desactivated with off method
	*/

	// register the once_event
	Bus.once('once_event', this, () => {
		console.log('emitting once_event');
	});

	// call the once_event
	for(var i = 0; i < 10; i++){
		console.log(i);
		Bus.emit('once_event');	
	}

	/*
		>> will log:
		'0'
		'emitting once_event'
		'1'
		'2'
		'3'
		'4'
		'5'
		'6'
		'7'
		'8'
		'9'

	*/

	// register the to_event
	Bus.to('to_event', this, () => {
		console.log('emitting to_event');
	}, 5);

	// call the to_event
	for(var i = 0; i < 10; i++){
		console.log(i);
		Bus.emit('to_event');	
	}

	/*
		>> will log: 
		'0'
		'emitting to_event'
		'1'
		'emitting to_event'
		'2'
		'emitting to_event'
		'3'
		'emitting to_event'
		'4'
		'emitting to_event'
		'5'
		'6'
		'7'
		'8'
		'9'
	*/

	// register the at_event
	Bus.at('at_event', this, () => {
		console.log('emitting at_event');
	}, 5);

	// call the at_event
	for(var i = 0; i < 10; i++){
		console.log(i);
		Bus.emit('at_event');	
	}

	/*
		>> will log: 
		'0'
		'1'
		'2'
		'3'
		'4'
		'emitting at_event'
		'5'
		'emitting at_event'
		'6'
		'emitting at_event'
		'7'
		'emitting at_event'
		'8'
		'emitting at_event'
		'9'
		'emitting at_event'
	*/

	// register the there_event
	Bus.there('there_event', this, () => {
		console.log('emitting there_event');
	}, 5);

	// call the there_event
	for(var i = 0; i < 10; i++){
		console.log(i);
		Bus.emit('there_event');	
	}

	/*
		>> will log:
		'0'
		'1'
		'2'
		'3'
		'4'
		'emitting there_event'
		'5'
		'6'
		'7'
		'8'
		'9'
	*/

</script>
-->
</body>
</html>